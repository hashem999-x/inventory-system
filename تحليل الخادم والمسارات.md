
# تحليل الخادم والمسارات

## 1. backend_server_Version4.js
- **الغرض**: نقطة الدخول الرئيسية لتطبيق الخادم، يقوم بتهيئة Express، وربط MongoDB، وتحديد المسارات (routes) المختلفة.
- **التقنيات المستخدمة**: Express.js (لإنشاء الخادم)، Mongoose (للتفاعل مع MongoDB)، CORS (للسماح بطلبات من نطاقات مختلفة).
- **اتصال قاعدة البيانات**: يتصل بقاعدة بيانات MongoDB على `mongodb://localhost:27017/inventory`.
- **المسارات المتاحة (API Endpoints)**:
  - `/api/users`: لإدارة المستخدمين.
  - `/api/branches`: لإدارة الفروع.
  - `/api/products`: لإدارة المنتجات.
  - `/api/inventory`: لإدارة المخزون.
  - `/api/vendors`: لإدارة الموردين.
  - `/api/purchaseOrders`: لإدارة أوامر الشراء.
  - `/api/auditLogs`: لإدارة سجلات التدقيق.
  - `/api/reorderRequests`: لإدارة طلبات إعادة الطلب.
  - `/api/returns`: لإدارة المرتجعات.
  - `/api/priceHistory`: لإدارة سجل الأسعار.
  - `/api/messages`: لإدارة الرسائل.
- **منطق الأعمال**: يتم توزيع منطق الأعمال على ملفات المسارات المنفصلة (مثل `users.js`, `branches.js` إلخ).
- **آليات المصادقة**: لم يتم تحديد آليات مصادقة صريحة في هذا الملف، ولكن من المتوقع أن يتم التعامل معها في مسارات المستخدمين (مثل `/api/login` في `LoginPage.jsx`).

## 2. backend_routes_users_Version2.js
- **الغرض**: التعامل مع عمليات CRUD (إنشاء، قراءة، تحديث، حذف) للمستخدمين.
- **المسارات**:
  - `GET /`: جلب جميع المستخدمين، مع تعبئة معلومات الفرع المرتبطة بهم.
  - `POST /`: إنشاء مستخدم جديد.
  - `PATCH /:id`: تحديث معلومات مستخدم موجود بناءً على معرفه.
  - `DELETE /:id`: حذف مستخدم بناءً على معرفه.
- **منطق الأعمال**: يقوم بالتفاعل مباشرة مع نموذج `User` في قاعدة البيانات.



